(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{117:function(e,t,n){"use strict";(function(e){var r=n(1),a=n.n(r),c=n(3),s=n(12),i=n(6),o=n(118),u=n(119),l=(n(131),n(132),n(95)),d=n(198),p=n(199),f=n(93),b=n(96),m=n(94),h=n(51),g=n(197),j=n(13),x=n(26),v=n(123),y=n(50),w=n(8),O=n(5),k=void 0;e.Buffer=w.Buffer;var S=x.d.SystemProgram,A=(x.d.Keypair,Object.values(v._keypair.secretKey)),N=new Uint8Array(A),K=x.d.Keypair.fromSecretKey(N),G=new j.PublicKey(y.metadata.address),I=Object(j.clusterApiUrl)("devnet"),P="processed";t.a=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),n=t[0],r=t[1],v=Object(i.useState)(""),w=Object(s.a)(v,2),A=w[0],N=w[1],B=Object(i.useState)([]),F=Object(s.a)(B,2),L=F[0],E=F[1],C=Object(i.useState)(!1),T=Object(s.a)(C,2),M=T[0],D=T[1],R=Object(i.useState)(null),V=Object(s.a)(R,2),U=V[0],z=V[1],J=function(){var e=new j.Connection(I,P);return new x.b(e,window.solana,P)},W=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,!(n=t.solana)){e.next=11;break}return e.next=5,n.connect();case 5:c=e.sent,console.log("Connected with Public Key:",c.publicKey.toString()),r(c.publicKey.toString()),Y(),e.next=12;break;case 11:z({type:"warning",text:"Phantom Wallet not found! Please install it from https://phantom.app/ to continue."});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0),z({type:"danger",text:"Failed to connect wallet. Please try again."});case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=J(),n=new x.a(y,G,t),e.next=5,n.account.baseAccount.fetch(K.publicKey);case 5:r=e.sent,console.log("Got the account",r),E(r.gifList.filter((function(e){return e.gifLink.includes("media")})).sort((function(e,t){return t.votes>e.votes?1:-1}))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error in getGifList: ",e.t0),E(null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),H=function(e){try{var t=new URL(e);return(t.hostname.endsWith("giphy.com")||t.hostname.endsWith("media.giphy.com"))&&t.pathname.toLowerCase().endsWith(".gif")}catch(n){return!1}},_=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==A.length){e.next=3;break}return z({type:"warning",text:"Please enter a GIF link."}),e.abrupt("return");case 3:if(H(A)){e.next=6;break}return z({type:"warning",text:"Please enter a valid GIPHY GIF URL (e.g. https://media.giphy.com/media/.../giphy.gif)."}),e.abrupt("return");case 6:return t=A,N(""),D(!0),z(null),console.log("Gif link:",t),e.prev=11,n=J(),r=new x.a(y,G,n),e.next=16,r.rpc.addGif(t,{accounts:{baseAccount:K.publicKey,user:n.wallet.publicKey}});case 16:return console.log("GIF successfully sent to program",t),z({type:"success",text:"GIF submitted successfully!"}),e.next=20,Y();case 20:e.next=27;break;case 22:e.prev=22,e.t0=e.catch(11),console.log("Error sending GIF:",e.t0),N(t),z({type:"danger",text:"Failed to submit GIF. Please try again."});case 27:return e.prev=27,D(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[11,22,27,30]])})));return function(){return e.apply(this,arguments)}}(),q=function(e){var t=e.target.value;N(t)},Q=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=J(),console.log("ping"),n=new x.a(y,G,t),console.log("ping1"),e.next=7,n.rpc.startStuffOff({accounts:{baseAccount:K.publicKey,user:t.wallet.publicKey,systemProgram:S.programId},signers:[K]});case 7:return console.log("Created a new BaseAccount w/ address:",K.publicKey.toString()),e.next=10,Y();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("Error creating BaseAccount account:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=(new x.d.Transaction).add(t)).feePayer=J().wallet.publicKey,console.log("Getting Recent Blockhash"),e.next=5,J().connection.getRecentBlockhash();case 5:return n.recentBlockhash=e.sent.blockhash,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Z(x.d.SystemProgram.transfer({fromPubkey:t,toPubkey:n,lamports:1e5*r})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),$=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){var c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("sending ".concat(r," from: ").concat(t,", to: ").concat(n)),e.t0=J().wallet,e.next=5,X(t,n,r);case 5:return e.t1=e.sent,e.next=8,e.t0.signAndSendTransaction.call(e.t0,e.t1);case 8:return c=e.sent,s=c.signature,console.log("Submitted transaction "+s+", awaiting confirmation"),e.next=13,J().connection.confirmTransaction(s);case 13:console.log("Transaction "+s+" confirmed"),e.next=20;break;case 16:e.prev=16,e.t2=e.catch(0),console.warn(e.t2),console.error("Error: "+JSON.stringify(e.t2));case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n,r){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(a.a.mark((function e(t){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Tipping:",t),D(!0),z(null),e.prev=3,r=n,c=L.filter((function(e){return e.id===t})).map((function(e){return e.userAddress})),1,e.next=9,$(r,c[0],1);case 9:z({type:"success",text:"Tip sent successfully!"}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.log("Error sending tip:",e.t0),z({type:"danger",text:"Failed to send tip. Please try again."});case 16:return e.prev=16,D(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("UpVoting GifID:",t),D(!0),z(null),e.prev=3,n=J(),r=new x.a(y,G,n),e.next=8,r.rpc.upvoteGif(t,{accounts:{baseAccount:K.publicKey,user:n.wallet.publicKey}});case 8:return z({type:"success",text:"Vote recorded!"}),e.next=11,Y();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("Error UpVoting GifID:",t,e.t0),z({type:"danger",text:"Failed to record vote. Please try again."});case 17:return e.prev=17,D(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[3,13,17,20]])})));return function(t){return e.apply(this,arguments)}}();return Object(i.useEffect)((function(){var e=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return window.addEventListener("load",e),function(){return window.removeEventListener("load",e)}}),[]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)("div",{className:"d-flex flex-column",children:Object(O.jsx)("div",{id:"page-content",children:Object(O.jsx)("div",{className:"container text-center",children:Object(O.jsx)(l.a,{className:"row justify-content-center",children:Object(O.jsxs)("div",{className:"container",children:[Object(O.jsx)("h1",{className:"mb-5 mt-5 fw-bold mt-4 text-white",children:" \u26bd Best Football GIFS"}),Object(O.jsxs)("p",{className:"mb-0 lead text-white",children:["Upload and view the latest and best football ",Object(O.jsx)("a",{href:"https://giphy.com/",style:{color:"white"},children:" GIFS "})," on the metaverse \u2728"]}),Object(O.jsx)("p",{className:"lead text-white",children:"Post the best GIFS and you can get upVotes \ud83d\udc4d or Tips \ud83d\udcb0"}),U&&Object(O.jsx)("div",{className:"alert alert-".concat(U.type," mx-auto w-50"),role:"alert",children:U.text}),M&&Object(O.jsxs)("div",{className:"text-white mb-3",children:[Object(O.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Processing transaction..."]}),!n&&Object(O.jsx)("button",{className:"wallet-connect",variant:"primary",onClick:W,children:"Connect to your Solana DevNet Wallet"}),n&&(null===L?Object(O.jsx)("div",{className:"connected-container",children:Object(O.jsx)("button",{className:"",onClick:Q,children:"Do One-Time Initialization For GIF Program Account"})}):Object(O.jsxs)("div",{className:"connected-container",children:[Object(O.jsx)(l.a,{xs:1,md:1,className:"g-4",children:Object(O.jsx)(d.a,{noValidate:!0,onSubmit:function(e){e.preventDefault(),_()},children:Object(O.jsxs)(p.a,{className:"mx-auto w-50 mt-3 mb-5",children:[Object(O.jsx)(f.a,{"aria-label":"Enter gif link!","aria-describedby":"basic-addon1",placeholder:"Enter gif link!",value:A,onChange:q}),Object(O.jsx)(b.a,{type:"submit",variant:"primary",id:"button-addon1",children:"Submit"})]})})}),Object(O.jsx)(l.a,{xs:1,md:4,className:"g-4",children:L.map((function(e,t){return Object(O.jsx)(m.a,{children:Object(O.jsxs)(h.a,{children:[Object(O.jsxs)(h.a.Header,{children:["Rank #",t.toString()]}),Object(O.jsx)(h.a.Img,{variant:"top",src:e.gifLink}),Object(O.jsxs)(h.a.Body,{children:[Object(O.jsxs)(h.a.Title,{children:["Votes: ",e.votes.toString()]}),Object(O.jsx)("div",{className:"d-grid gap-2",children:Object(O.jsx)(b.a,{variant:"secondary",size:"lg",data:e.id,onClick:te.bind(k,e.id),children:"Up Vote \ud83d\udc4d"})})]}),Object(O.jsx)(h.a.Footer,{children:Object(O.jsxs)(b.a,{className:"btn-money",size:"lg",data:e.id,onClick:ee.bind(k,e.id),children:["Send a Tip to ",e.userAddress.toString().substring(0,6)," \ud83d\udcb0"]})})]})},t)}))})]}))]})})})})}),Object(O.jsxs)("div",{id:"sticky-footer",className:"footer flex-shrink-0 py-0 bg-dark",children:[Object(O.jsx)("span",{children:"Built on "})," ",Object(O.jsx)("a",{href:"https://solana.com",children:Object(O.jsx)(g.a,{alt:"Solana Logo",className:"logo-solana",src:u.a,fluid:!0})}),Object(O.jsxs)("span",{children:["  ",Object(O.jsxs)("p",{children:[Object(O.jsxs)("a",{href:"https://twitter.com/IBRAKADABRAAAAA",style:{color:"white"},children:[" ",Object(O.jsx)("img",{alt:"Twitter Logo",className:"twitter-logo",src:o.a,fluid:!0})," by @IBRAKADABRAAAAA "]})," "]})," "]})]})]})}}).call(this,n(39))},118:function(e,t,n){"use strict";t.a=n.p+"static/media/twitter-logo.d89d9a86.svg"},119:function(e,t,n){"use strict";t.a=n.p+"static/media/logo-solana-white.58c52111.svg"},123:function(e){e.exports=JSON.parse('{"_keypair":{"publicKey":{"0":112,"1":4,"2":12,"3":88,"4":135,"5":157,"6":76,"7":0,"8":72,"9":177,"10":135,"11":65,"12":214,"13":118,"14":18,"15":47,"16":250,"17":192,"18":175,"19":230,"20":211,"21":69,"22":88,"23":121,"24":147,"25":232,"26":183,"27":9,"28":223,"29":117,"30":112,"31":30},"secretKey":{"0":67,"1":12,"2":76,"3":201,"4":170,"5":205,"6":248,"7":76,"8":69,"9":116,"10":52,"11":205,"12":162,"13":1,"14":122,"15":157,"16":37,"17":8,"18":37,"19":250,"20":3,"21":29,"22":206,"23":108,"24":60,"25":220,"26":49,"27":120,"28":164,"29":16,"30":184,"31":223,"32":112,"33":4,"34":12,"35":88,"36":135,"37":157,"38":76,"39":0,"40":72,"41":177,"42":135,"43":65,"44":214,"45":118,"46":18,"47":47,"48":250,"49":192,"50":175,"51":230,"52":211,"53":69,"54":88,"55":121,"56":147,"57":232,"58":183,"59":9,"60":223,"61":117,"62":112,"63":30}}}')},125:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),c=n(116),s=n.n(c),i=(n(130),n(117)),o=n(5);s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(i.a,{})}),document.getElementById("root"))},130:function(e,t,n){},132:function(e,t,n){},133:function(e,t){},136:function(e,t){},151:function(e,t){},167:function(e,t){},168:function(e,t){},186:function(e,t){},188:function(e,t){},50:function(e){e.exports=JSON.parse('{"version":"0.0.0","name":"myepicproject","instructions":[{"name":"startStuffOff","accounts":[{"name":"baseAccount","isMut":true,"isSigner":true},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"addGif","accounts":[{"name":"baseAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true}],"args":[{"name":"gifLink","type":"string"}]},{"name":"upvoteGif","accounts":[{"name":"baseAccount","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true}],"args":[{"name":"gifId","type":"string"}]}],"accounts":[{"name":"BaseAccount","type":{"kind":"struct","fields":[{"name":"totalGifs","type":"u64"},{"name":"gifList","type":{"vec":{"defined":"ItemStruct"}}}]}}],"types":[{"name":"ItemStruct","type":{"kind":"struct","fields":[{"name":"id","type":"string"},{"name":"gifLink","type":"string"},{"name":"userAddress","type":"publicKey"},{"name":"votes","type":"u64"}]}}],"metadata":{"address":"8hS16z59onCPBYDqbNnpCMjsMuoQYVe2vE7p3zZVoKxD"}}')}},[[125,1,2]]]);
//# sourceMappingURL=main.c27a158d.chunk.js.map